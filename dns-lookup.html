<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FTX DNS Lookup</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="/FTX_OFFICIAL.PNG"> 

<style>
*{box-sizing:border-box;}
:root{
  --primary:#7c3aed;
  --primary-dark:#5b21b6;
  --bg:#f0f2f5;
  --card-bg:#fff;
  --text:#1f2937;
  --text-muted:#6b7280;
  --border:#e5e7eb;
  --shadow:0 4px 12px rgba(0,0,0,0.08);
  --shadow-hover:0 8px 20px rgba(0,0,0,0.12);
}
body{font-family:'Inter',sans-serif;background:var(--bg);margin:0;color:var(--text);}
header{background:linear-gradient(135deg,var(--primary-dark),var(--primary));color:#fff;text-align:center;padding:3rem 1rem;font-size:2.5rem;font-weight:800;border-radius:0 0 1.5rem 1.5rem;}
.container{max-width:800px;margin:-2rem auto 2rem;padding:0 1rem;}
.card{background:var(--card-bg);padding:2.5rem 2rem;border-radius:1.2rem;border:1px solid var(--border);box-shadow:var(--shadow);margin-bottom:2rem;overflow:hidden;}
.input-wrapper{display:flex;justify-content:center;margin:2rem 0;width:100%;}
.input-box{width:100%;max-width:520px;padding:0.75rem;background:#fff;border:1px solid var(--border);border-radius:1rem;}
.input-box input{width:100%;padding:1rem 1.2rem;font-size:1rem;border:2px solid var(--border);border-radius:0.75rem;text-align:center;background:#f9fafb;}
.input-box input:focus{outline:none;border-color:var(--primary-dark);}
.btn-group{display:flex;justify-content:center;margin-top:1.5rem;}
button{padding:0.9rem 2rem;border:none;border-radius:50px;font-weight:600;color:#fff;cursor:pointer;background:linear-gradient(to right,var(--primary-dark),var(--primary));box-shadow:var(--shadow);}
button:hover{transform:translateY(-2px);box-shadow:var(--shadow-hover);}
.loader-container{display:none;text-align:center;margin-top:1.5rem;}
.loader{width:40px;height:40px;border:4px solid #e5e7eb;border-top:4px solid var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin:auto;}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== PRETTY REPORT STYLE ===== */
.result{margin-top:1.5rem;}
.result-section{margin-bottom:1.5rem;}
.result-section h3{
  margin-bottom:0.3rem;
  color:var(--primary-dark);
  font-weight:700;
}
.result-section hr{
  border:none;
  border-bottom:2px solid var(--border);
  margin-bottom:0.7rem;
}
.result-section p{
  margin:0.3rem 0;
  color:var(--text);
  font-weight:500;
  word-break:break-word;
}

.contact-section{text-align:center;margin:2rem 0;}
.btn-contact{background:linear-gradient(to right,#7c3aed,#9d4edd);padding:1rem 2rem;font-size:1.1rem;}

.logo-footer{text-align:center;padding:2.5rem 1rem 1rem;}
.logo-footer img{height:60px;}
.logo-footer h5{margin:.8rem 0;color:var(--text-muted);font-weight:500;}
.logo-footer a{color:var(--primary-dark);font-weight:600;text-decoration:none;}

@media(max-width:768px){header{font-size:2rem}}
</style>
</head>

<body>

<header>FTX DNS Lookup</header>

<div class="container">

  <div class="card">
    <h2 style="text-align:center;">Enter Domain or URL</h2>

    <div class="input-wrapper">
      <div class="input-box">
        <input id="domainInput" placeholder="https://example.com/">
      </div>
    </div>

    <div class="btn-group">
      <button onclick="lookupDNS()">
        <i class="fas fa-search"></i> Lookup DNS
      </button>
    </div>

    <div class="loader-container" id="loader">
      <div class="loader"></div>
      <p>Fetching DNS records...</p>
    </div>

    <div class="result" id="result" style="display:none;">
      <!-- DNS Records will appear here -->
    </div>

  </div>

  <div class="contact-section">
    <a href="https://wa.me/923217614902" target="_blank">
      <button class="btn-contact">
        <i class="fab fa-whatsapp"></i> Contact Developer
      </button>
    </a>
  </div>

</div>

<div class="logo-footer">
  <img src="/FTX_OFFICIAL.PNG" alt="FTX OFFICIAL">
  <h5>Discover, build and master tech with FTX OFFICIAL.</h5>
  <a href="/">Â© FTX OFFICIAL</a>
</div>

<script>
const API = "https://dns-lookup.ftxofficial.workers.dev/?domain=";

async function lookupDNS() {
  let domain = document.getElementById("domainInput").value.trim();
  if(!domain){
    alert("Please enter a domain or URL");
    return;
  }

  // Clean the input: extract only domain
  try {
    if(!domain.startsWith("http://") && !domain.startsWith("https://")) {
      domain = "https://" + domain; // add protocol for URL parser
    }
    const urlObj = new URL(domain);
    domain = urlObj.hostname; // only domain
  } catch(e) {
    alert("Invalid URL");
    return;
  }

  const loader = document.getElementById("loader");
  const result = document.getElementById("result");

  loader.style.display = "block";
  result.style.display = "none";
  result.innerHTML = "";

  try{
    const res = await fetch(API + encodeURIComponent(domain));
    const data = await res.json();
    loader.style.display = "none";

    if(data.status !== 200){
      alert("Failed to fetch DNS records");
      return;
    }

    const records = data.records;

    for(const type in records){
      const section = document.createElement("div");
      section.classList.add("result-section");

      const h3 = document.createElement("h3");
      h3.textContent = type;
      section.appendChild(h3);

      const hr = document.createElement("hr");
      section.appendChild(hr);

      records[type].forEach(item => {
        const p = document.createElement("p");
        p.textContent = `Name: ${item.name}, TTL: ${item.ttl}, Data: ${item.data}`;
        section.appendChild(p);
      });

      result.appendChild(section);
    }

    result.style.display = "block";

  }catch(err){
    loader.style.display = "none";
    alert("Error fetching DNS records. Please try again.");
    console.error(err);
  }
}
</script>

</body>
</html>
