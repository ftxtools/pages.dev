<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FTX API Checker</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="icon" type="image/png" href="/FTX_OFFICIAL.PNG">

<style>
*{box-sizing:border-box;}
:root{
  --primary:#7c3aed;
  --primary-dark:#5b21b6;
  --bg:#f0f2f5;
  --card-bg:#fff;
  --text:#1f2937;
  --text-muted:#6b7280;
  --border:#e5e7eb;
  --shadow:0 4px 12px rgba(0,0,0,0.08);
  --shadow-hover:0 8px 20px rgba(0,0,0,0.12);
  --warning:#ef4444;
}
body{font-family:'Inter',sans-serif;background:var(--bg);margin:0;color:var(--text);}
header{background:linear-gradient(135deg,var(--primary-dark),var(--primary));color:#fff;text-align:center;padding:3rem 1rem;font-size:2.5rem;font-weight:800;border-radius:0 0 1.5rem 1.5rem;}
.container{max-width:800px;margin:-2rem auto 2rem;padding:0 1rem;}
.card{background:var(--card-bg);padding:2.5rem 2rem;border-radius:1.2rem;border:1px solid var(--border);box-shadow:var(--shadow);margin-bottom:2rem;overflow:hidden;}
.input-wrapper{display:flex;justify-content:center;margin:2rem 0;width:100%;}
.input-box{width:100%;max-width:520px;padding:0.75rem;background:#fff;border:1px solid var(--border);border-radius:1rem;}
.input-box input{width:100%;padding:1rem 1.2rem;font-size:1rem;border:2px solid var(--border);border-radius:0.75rem;text-align:center;background:#f9fafb;}
.input-box input:focus{outline:none;border-color:var(--primary-dark);}
.btn-group{display:flex;justify-content:center;margin-top:1.5rem;}
button{padding:0.9rem 2rem;border:none;border-radius:50px;font-weight:600;color:#fff;cursor:pointer;background:linear-gradient(to right,var(--primary-dark),var(--primary));box-shadow:var(--shadow);}
button:hover{transform:translateY(-2px);box-shadow:var(--shadow-hover);}
.loader-container{display:none;text-align:center;margin-top:1.5rem;}
.loader{width:40px;height:40px;border:4px solid #e5e7eb;border-top:4px solid var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin:auto;}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== PRETTY REPORT STYLE ===== */
.result{margin-top:1.5rem;}
.result-section{margin-bottom:1.5rem;}
.result-section h3{
  margin-bottom:0.3rem;
  color:var(--primary-dark);
  font-weight:700;
}
.result-section hr{
  border:none;
  border-bottom:2px solid var(--border);
  margin-bottom:0.7rem;
}
.result-section p{
  margin:0.3rem 0;
  color:var(--text);
  font-weight:500;
  word-break:break-word;
}

/* ===== NOTE BOX ===== */
.note-box{
  background:#fff3f3;
  border-left:4px solid var(--warning);
  padding:1rem 1.2rem;
  margin-top:1.5rem;
  border-radius:0.7rem;
  color:var(--warning);
  font-weight:600;
}
.contact-section{text-align:center;margin:2rem 0;}
.btn-contact{background:linear-gradient(to right,#7c3aed,#9d4edd);padding:1rem 2rem;font-size:1.1rem;}
.logo-footer{text-align:center;padding:2.5rem 1rem 1rem;}
.logo-footer img{height:60px;}
.logo-footer h5{margin:.8rem 0;color:var(--text-muted);font-weight:500;}
.logo-footer a{color:var(--primary-dark);font-weight:600;text-decoration:none;}
@media(max-width:768px){header{font-size:2rem}}
</style>
</head>

<body>

<header>FTX API Checker</header>

<div class="container">

  <div class="card">
    <h2 style="text-align:center;">Enter API URL</h2>

    <!-- Top note box always visible -->
    <div class="note-box">
      ⚠️ Note: The API URL must include the full URL parameter (e.g., <code>https://your-api.com?url=https://example.com</code>) to check if the API is working.
    </div>

    <div class="input-wrapper">
      <div class="input-box">
        <input type="url" id="apiInput" placeholder="https://example.com/api">
      </div>
    </div>

    <div class="btn-group">
      <button onclick="checkAPI()">
        <i class="fas fa-search"></i> Check API
      </button>
    </div>

    <div class="loader-container" id="loader">
      <div class="loader"></div>
      <p>Checking API...</p>
    </div>

    <div class="result" id="result" style="display:none;">
      <!-- API result appears here -->
    </div>

  </div>

  <div class="contact-section">
    <a href="https://wa.me/923217614902" target="_blank">
      <button class="btn-contact">
        <i class="fab fa-whatsapp"></i> Contact Developer
      </button>
    </a>
  </div>

</div>

<div class="logo-footer">
  <img src="/FTX_OFFICIAL.PNG" alt="FTX OFFICIAL">
  <h5>Discover, build and master tech with FTX OFFICIAL.</h5>
  <a href="/">© FTX OFFICIAL</a>
</div>

<script>
const API_CHECKER = "https://api-checker.ftxofficial.workers.dev/?apiurl=";

async function checkAPI() {
  const url = document.getElementById("apiInput").value.trim();
  const loader = document.getElementById("loader");
  const result = document.getElementById("result");

  loader.style.display = "block";
  result.style.display = "none";
  result.innerHTML = "";

  if(!url){ 
    alert("⚠ Please enter a valid API URL."); 
    loader.style.display="none";
    return; 
  }

  try {
    const res = await fetch(API_CHECKER + encodeURIComponent(url));
    const data = await res.json();
    loader.style.display = "none";

    if(data.status !== "success" || data.api_working === false){
      const section = document.createElement("div");
      section.classList.add("result-section");

      const h3 = document.createElement("h3");
      h3.textContent = "API Check Failed";
      section.appendChild(h3);

      const hr = document.createElement("hr");
      section.appendChild(hr);

      const p = document.createElement("p");
      p.textContent = "⚠ The API returned an error or is not working. Please Check Api and Parameter Url.";
      section.appendChild(p);

      result.appendChild(section);
      result.style.display = "block";
      return; // no bottom note
    }

    // Display successful API response
    const fields = {
      "Request URL": data.request_url,
      "API Working": data.api_working ? "✅ Yes" : "❌ No",
      "API Status": data.api_status,
      "Response Time": data.response_time
    };

    for(const key in fields){
      const section = document.createElement("div");
      section.classList.add("result-section");

      const h3 = document.createElement("h3");
      h3.textContent = key;
      section.appendChild(h3);

      const hr = document.createElement("hr");
      section.appendChild(hr);

      const p = document.createElement("p");
      p.textContent = fields[key];
      section.appendChild(p);

      result.appendChild(section);
    }

    result.style.display = "block";

  } catch(err){
    loader.style.display = "none";
    alert("⚠ Error checking API. Please try again.");
    console.error(err);
  }
}
</script>

</body>
</html>
